(()=>{var B="../../assets/images/icons/hexagone.svg",H="../../assets/images/icons/user.svg";function r(t,e){let i=document.createElement(t);if(e)for(let n in e)n==="class"?Array.isArray(e[n])?e[n].forEach(l=>{i.classList.add(l)}):i.classList.add(e[n]):n==="child"?Array.isArray(e[n])?e[n].forEach(l=>{l instanceof Node?i.appendChild(l):i.append(l)}):e[n]instanceof Node?i.appendChild(e[n]):i.innerHTML=e[n]:n==="events"?Array.isArray(e[n])?e[n].forEach(l=>{i.addEventListener(l.type,l.callback)}):i.addEventListener(e[n].type,e[n].callback):i.setAttribute(n,e[n]);return i}function g(t,e){let i=r("img",{src:t});return v(i,e)}function v(t,e){let i={el:r("div",{class:"btn-sqr",child:t,events:{type:"click",callback:function(){typeof e=="function"&&e()}}}),select:function(){i.el.classList.add("selected")},unselect:function(){i.el.classList.remove("selected")},toggle:function(){i.el.classList.toggle("selected")}};return i}function c(t,e){return r("div",{class:e?["field_content","highlight"]:"field_content",child:t,contenteditable:!0})}function o(t,e){let i=r("div",{class:"field_label",child:t}),n=r("div",{class:"field",child:[i]});if(Array.isArray(e))for(let l of e)n.appendChild(l);else n.appendChild(e);return n}function C(){return r("div",{class:"character-sheet_grid"})}function F(){return r("div",{class:"character-sheet"})}function M(){return r("div",{class:"action-bar"})}function x(t){return r("div",{id:`page-${t}`})}function R(){let t=r("div",{class:"scroll-bar_item"}),e=r("div",{class:"scroll-bar",child:t}),i,n,l,a,d={el:e,init:function(){let p=e.parentNode;n=p.scrollHeight-window.innerHeight,n==0?(d.el.style.display="none",window.removeEventListener("scroll",A)):(d.el.style.display="",window.addEventListener("scroll",A,{capture:!0,passive:!0})),l=e.clientHeight*(window.innerHeight/p.scrollHeight),t.style.height=l+"px",a=e.clientHeight-l}};return window.addEventListener("resize",()=>{clearTimeout(i),i=setTimeout(()=>{d.init()},250)}),d;function A(){let p=window.pageYOffset/n;t.style.top=`${a*p}px`}}function b(){return r("div",{class:"nav-bar"})}function y(t,e){return r("div",{class:e?["msg-box_content","highlight"]:"msg-box_content",child:t})}function D(t,e){let i=r("div",{class:"msg-box_label",child:t}),n=r("div",{class:"msg-box_container"}),l=r("div",{class:"msg-box",child:[i,n]});if(Array.isArray(e))for(let a of e)n.appendChild(a);else n.appendChild(e);return l}function N(t){return t=Math.floor(t),Math.floor(Math.random()*(t-1+1))+1}"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js");var h=document.querySelector("main"),E=b();document.body.appendChild(E);var u=g(B,()=>{u.select(),S.unselect(),_(w)});u.select();E.appendChild(u.el);var S=g(H,()=>{S.select(),u.unselect(),_(G)});E.appendChild(S.el);var w=x("main"),T=M();w.appendChild(T);for(let t of[20,12,10,8,6,4]){let e=v(`D${t}`,()=>{e.select();let i=N(t);W("R\xE9sultat",[y(i,!0),y(`/ ${t}`)]),setTimeout(()=>{e.unselect()},1e3)});T.appendChild(e.el)}var G=x("char"),m=F();G.appendChild(m);var P=o("Nom",c("nom du personnage"));m.appendChild(P);var L=C();m.appendChild(L);var q=o("PV",[c("10",!0),c(12)]);L.appendChild(q);var U=o("NIV",c(1));L.appendChild(U);var s=C();m.appendChild(s);var V=o("FOR",[c(20),c("+5",!0)]);s.appendChild(V);var I=o("INT",[c(20),c("+5",!0)]);s.appendChild(I);var O=o("DEX",[c(20),c("+5",!0)]);s.appendChild(O);var $=o("PER",[c(20),c("+5",!0)]);s.appendChild($);var X=o("CON",[c(20),c("+5",!0)]);s.appendChild(X);var z=o("CHA",[c(20),c("+5",!0)]);s.appendChild(z);var f=r("div",{id:"message-layout"});document.body.appendChild(f);_(w);var k=R();document.body.appendChild(k.el);k.init();function _(t){for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(t)}function W(t,e){let i=D(t,e);f.appendChild(i);let n=setTimeout(()=>{f.removeChild(i)},4e3);i.addEventListener("click",l=>{f.removeChild(i),clearTimeout(n)})}})();
